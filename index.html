<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Простая 2D игра на Canvas</title>
<style>
  body {
    margin: 0;
    overflow: hidden;
    background: #222;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
  }
  canvas {
    background: #eee;
    display: block;
    border: 2px solid #333;
  }
</style>
</head>
<body>
<canvas id="game" width="600" height="400"></canvas>
<script>
  const canvas = document.getElementById('game');
  const ctx = canvas.getContext('2d');

  const player = {
    x: 50,
    y: 180,
    width: 40,
    height: 40,
    color: 'blue',
    speed: 4,
    dx: 0,
    dy: 0
  };

  const keys = {};

  window.addEventListener('keydown', e => {
    keys[e.key.toLowerCase()] = true;
  });

  window.addEventListener('keyup', e => {
    keys[e.key.toLowerCase()] = false;
  });

  function update() {
    player.dx = 0;
    player.dy = 0;

    if (keys['arrowright'] || keys['d']) player.dx = player.speed;
    if (keys['arrowleft']  || keys['a']) player.dx = -player.speed;
    if (keys['arrowup']    || keys['w']) player.dy = -player.speed;
    if (keys['arrowdown']  || keys['s']) player.dy = player.speed;

    player.x += player.dx;
    player.y += player.dy;

    // Ограничение по краям канваса
    if (player.x < 0) player.x = 0;
    if (player.x + player.width > canvas.width) player.x = canvas.width - player.width;
    if (player.y < 0) player.y = 0;
    if (player.y + player.height > canvas.height) player.y = canvas.height - player.height;
  }

  function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    ctx.fillStyle = player.color;
    ctx.fillRect(player.x, player.y, player.width, player.height);
  }

  function gameLoop() {
    update();
    draw();
    requestAnimationFrame(gameLoop);
  }

  gameLoop();
</script>
</body>
</html>